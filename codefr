local repo = 'https://raw.githubusercontent.com/wally-rblx/LinoriaLib/main/'
local Library = loadstring(game:HttpGet(repo .. 'Library.lua'))()
local ThemeManager = loadstring(game:HttpGet(repo .. 'addons/ThemeManager.lua'))()
local SaveManager = loadstring(game:HttpGet(repo .. 'addons/SaveManager.lua'))()
local Window = Library:CreateWindow({
    Title = 'altxria hub (PRIVATE)',
    Center = true, 
    AutoShow = true,
})
local Tabs = {
    Main = Window:AddTab('Main'), 
    ['UI Settings'] = Window:AddTab('UI Settings'),
}
local MenuGroup = Tabs['UI Settings']:AddLeftGroupbox('Menu')
MenuGroup:AddButton('Unload', function() Library:Unload() end)
local LeftGroupBox = Tabs.Main:AddLeftGroupbox('AutoScore')
LeftGroupBox:AddToggle('autoSBool', {
    Text = 'Turn On',
    Default = false, 
    Tooltip = 'As long as another player doesnt have possession, will auto score.',
})
LeftGroupBox:AddSlider('goalcount', {
    Text = 'Goalcount to leave (BOTH TEAMS)',
    Default = 0,
    Min = 0,
    Max = 100,
    Rounding = 0,
    Compact = false, 
})
local children = game.Workspace:GetDescendants()
local Players = game:GetService("Players");
local plr = Players.LocalPlayer;
local character = plr.Character or plr.Character:Wait()
local head = character.Head
local mouse = plr:GetMouse();
local poss = false
local neutral = false
local red = false 
local blue = true
local expand = false
local debounce = false
local teamnum = 0
local bluescore = nil
local redscore = nil
local sbluescore = nil
local sredscore = nil
local newGameCooldown = false
local function baller()
if Toggles.autoSBool.Value == true then
    for i, v in ipairs(game:GetService("Workspace"):GetChildren()) do
        for z,x in ipairs (head:GetChildren()) do
            if x.Name == "OwnershipArrow" then
                poss = true 
                print("possesion check")
            end
        end
        for u,y in ipairs (character:GetChildren()) do
            if y.Name == "Team" then
                if y.Value == "Red" then
                    red = true
                    print("teamcheck red")
                elseif y.Value == "Blue" then
                    blue = true
                    print("teamcheck blue")
                end
            end
        end
        for t, k in ipairs(v:GetChildren()) do
            if k.Name == "Balls" then
                print("balls folder")
                for o, p in ipairs(k:GetChildren()) do
                    if p.Name == "PLAIN_BALL" then
                        print("found a ball")
                        for m, n in ipairs(p:GetChildren()) do
                            if n.Name == "HITBOX_BALL" then
                                print("got hitbox")
                                for z,x in ipairs (n:GetChildren()) do
                                    if x.Name == "OwnershipArrow" then
                                        neutral = true 
                                        print("neutral ball")
                                    end
                                end
                                n.Transparency = 0
                                if poss == true then 
                                    if blue == true then
                                        n.Position = Vector3.new(133, 13, -895)
                                        if debounce == false then
                                            debounce = true
                                            sbluescore = plr.PlayerGui.GameUI.RoundInfo.Blue.Score.Text
                                            sredscore = plr.PlayerGui.GameUI.RoundInfo.Red.Score.Text
                                            bluescore = tonumber(sbluescore)
                                            redscore = tonumber(sredscore)
                                            print("teleported")
                                        end
                                    elseif red == true then
                                        n.Position = Vector3.new(790, 10, -895)
                                        if debounce == false then
                                            debounce = true
                                            sbluescore = plr.PlayerGui.GameUI.RoundInfo.Blue.Score.Text
                                            sredscore = plr.PlayerGui.GameUI.RoundInfo.Red.Score.Text
                                            bluescore = tonumber(sbluescore)
                                            redscore = tonumber(sredscore)
                                            print("teleported")
                                        end
                                    debounce = false
                                    end
                                    red = false
                                    blue = false
                                elseif neutral == true then
                                    n.Position = character.HumanoidRootPart.Position
                                    game:GetService("ReplicatedStorage").Remotes.Ball.Dribble:FireServer(game:GetService("Workspace").Objects.Balls.PLAIN_BALL)
                                    print("gave player possesion")
                                end
                                neutral = false
                                poss = false
                            end
                        end
                    end
                end
            end
        end
    end
    if game:GetService("ReplicatedStorage").Info.TimeLeft.Value == "00:05" then
        game:GetService("RunService"):UnbindFromRenderStep("updateerrr")
        newGameCooldown = true
        Toggles.autoSBool.Value = false
        print("quitting")
    end
    if redscore + bluescore >= Options.goalcount.Value then
        print("goalc")
    end
end
end
local asOn = false
Toggles.autoSBool:OnChanged(function()
    if Toggles.autoSBool.Value == true and newGameCooldown == false then
        print(game.PlaceId)
        if game.PlaceId ~= 9254845212 then
            
        end
        game:GetService("RunService"):BindToRenderStep("updateerrr", 1, baller)
        asOn = true
    elseif Toggles.autoSBool.Value == false and asOn == true and newGameCooldown == false then
        game:GetService("RunService"):UnbindFromRenderStep("updateerrr")
    elseif newGameCooldown == true then
        wait(7)
        newGameCooldown = false
    end
end)
